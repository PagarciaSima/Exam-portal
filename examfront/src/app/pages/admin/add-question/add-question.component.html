<mat-card [@slideIn] role="form" aria-labelledby="add-question-title">
    <h1 class="text-center" style="display: flex; align-items: center; justify-content: center;">
        <mat-icon aria-hidden="true" style="margin-right: 8px;">question_mark</mat-icon>
        {{ 'ADD_QUESTION' | translate }}&nbsp;-&nbsp;{{ qTitle }}
    </h1>
    <mat-card-content>
        <div class="bootstrap-wrapper">
            <div class="row">
                <div class="col-md-8 offset-md-2">
                    <form #questionForm="ngForm" aria-labelledby="add-question-title"
                        (ngSubmit)="formSubmit()" autocomplete="on" novalidate>
                        
                        <!-- Question Content -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'QUESTION' | translate }}</mat-label>
                            <textarea
                                name="content"
                                matInput
                                rows="4"
                                [placeholder]="'QUESTION' | translate"
                                required
                                #content="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.content"
                            ></textarea>
                            <mat-error *ngIf="content.invalid && (content.dirty || content.touched)" role="alert">
                                {{ 'QUESTION' | translate }} {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Option 1 -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'OPTION' | translate }} 1</mat-label>
                            <input
                                type="text"
                                name="option1"
                                matInput
                                [placeholder]="('OPTION' | translate) + ' 1'"
                                required
                                #option1="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.option1"
                            />
                            <mat-error *ngIf="option1.invalid && (option1.dirty || option1.touched)" role="alert">
                                {{ 'OPTION' | translate }} 1 {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Option 2 -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'OPTION' | translate }} 2</mat-label>
                            <input
                                type="text"
                                name="option2"
                                matInput
                                [placeholder]="('OPTION' | translate) + ' 2'"
                                required
                                #option2="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.option2"
                            />
                            <mat-error *ngIf="option2.invalid && (option2.dirty || option2.touched)" role="alert">
                                {{ 'OPTION' | translate }} 2 {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Option 3 -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'OPTION' | translate }} 3</mat-label>
                            <input
                                type="text"
                                name="option3"
                                matInput
                                [placeholder]="('OPTION' | translate) + ' 3'"
                                required
                                #option3="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.option3"
                            />
                            <mat-error *ngIf="option3.invalid && (option3.dirty || option3.touched)" role="alert">
                                {{ 'OPTION' | translate }} 3 {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Option 4 -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'OPTION' | translate }} 4</mat-label>
                            <input
                                type="text"
                                name="option4"
                                matInput
                                [placeholder]="('OPTION' | translate) + ' 4'"
                                required
                                #option4="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.option4"
                            />
                            <mat-error *ngIf="option4.invalid && (option4.dirty || option4.touched)" role="alert">
                                {{ 'OPTION' | translate }} 4 {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Correct Answer -->
                        <mat-form-field class="w100" appearance="outline">
                            <mat-label>{{ 'CORRECT_ANSWER' | translate }}</mat-label>
                            <mat-select
                                name="answer"
                                required
                                #answer="ngModel"
                                aria-required="true"
                                [(ngModel)]="question.answer"
                                [placeholder]="'CORRECT_ANSWER' | translate"
                            >
                                <mat-option *ngIf="!question.option1" disabled>{{ 'OPTION' | translate }} 1 {{ 'IS_REQUIRED' | translate }}</mat-option>
                                <mat-option *ngIf="!question.option1" disabled>{{ 'OPTION' | translate }} 2 {{ 'IS_REQUIRED' | translate }}</mat-option>
                                <mat-option *ngIf="!question.option1" disabled>{{ 'OPTION' | translate }} 3 {{ 'IS_REQUIRED' | translate }}</mat-option>
                                <mat-option *ngIf="!question.option1" disabled>{{ 'OPTION' | translate }} 4 {{ 'IS_REQUIRED' | translate }}</mat-option>
                                <mat-option *ngIf="question.option1" [value]="question.option1">{{ question.option1 }}</mat-option>
                                <mat-option *ngIf="question.option2" [value]="question.option2">{{ question.option2 }}</mat-option>
                                <mat-option *ngIf="question.option3" [value]="question.option3">{{ question.option3 }}</mat-option>
                                <mat-option *ngIf="question.option4" [value]="question.option4">{{ question.option4 }}</mat-option>
                            </mat-select>
                            <mat-error *ngIf="answer.invalid && (answer.dirty || answer.touched)" role="alert">
                                {{ 'CORRECT_ANSWER' | translate }} {{ 'IS_REQUIRED' | translate }}
                            </mat-error>
                        </mat-form-field>

                        <!-- Add Question Button -->
                        <div class="container text-center mt15" style="display: flex; justify-content: center; gap: 16px;">
                            <button
                                mat-raised-button
                                color="primary"
                                [disabled]="questionForm.invalid"
                                type="submit"
                            >
                                {{ 'ADD_QUESTION' | translate }}
                            </button>
                            <button
                                mat-raised-button
                                color="accent"
                                [routerLink]="['/admin/view-questions', qId, qTitle]"
                                type="button"
                            >
                                {{ 'BACK_TO_QUIZ' | translate }}
                            </button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </mat-card-content>
</mat-card>

